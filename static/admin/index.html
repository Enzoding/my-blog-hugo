<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>博客内容管理</title>
</head>
<body>
    <script>
        window.CMS_MANUAL_INIT = true;
    </script>
    <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
    <script>
        window.addEventListener('load', function() {
            CMS.init({
                config: {
                    backend: {
                        name: 'github',
                        repo: 'Enzoding/my-blog-hugo',
                        branch: 'main',
                        auth_type: 'implicit',
                        app_id: process.env.OAUTH_CLIENT_ID,
                        base_url: location.origin
                    },
                    load_config_file: false,
                    media_folder: "static/images",
                    public_folder: "/images",
                    collections: [
                        {
                            name: "posts",
                            label: "文章",
                            folder: "content/posts",
                            create: true,
                            slug: "{{year}}-{{month}}-{{day}}-{{slug}}",
                            fields: [
                                {label: "标题", name: "title", widget: "string"},
                                {label: "摘要", name: "summary", widget: "string"},
                                {label: "发布日期", name: "date", widget: "datetime"},
                                {label: "作者", name: "author", widget: "string"},
                                {label: "分类", name: "categories", widget: "list"},
                                {label: "标签", name: "tags", widget: "list"},
                                {label: "显示目录", name: "showToc", widget: "boolean", default: true},
                                {label: "目录默认展开", name: "TocOpen", widget: "boolean", default: false},
                                {label: "草稿", name: "draft", widget: "boolean", default: false},
                                {label: "隐藏元信息", name: "hidemeta", widget: "boolean", default: false},
                                {label: "允许评论", name: "comments", widget: "boolean", default: false},
                                {label: "正文", name: "body", widget: "markdown"}
                            ]
                        }
                    ]
                }
            });
        });
    </script>
</body>
</html>
